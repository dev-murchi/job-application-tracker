<!-- Desktop Topbar -->
<header class="w-full flex flex-row w-full items-center justify-between shadow-md px-4">
    <div class="brand w-64 pr-3">
        <app-svg [svgName]="logo" [mode]="'image'" class="h-auto" />
    </div>

    <div class="flex flex-row items-center gap-2">
        <div class="relative group gap-2 bg-gray-500/10 rounded-full">
            <div class="ml-auto relative rounded-full">
                <button
                    class="flex flex-row items-center gap-2 p-1 w-full hover:bg-gray-500/20 focus:outline-none cursor-pointer text-secondary rounded-full"
                    (click)="showDropdown = !showDropdown">

                    <img src="{{userProfile()?.avatar ?? 'images/default-avatar.png'}}" alt="Avatar" class="object-cover size-8 rounded-full" />

                    <div class="h-4 text-sm flex items-center">{{userProfile()?.name}}</div>

                    <app-svg [svgName]="dropDownIcon" class="rounded-full" fill="currentColor" />

                </button>
                @if(showDropdown) {
                <div class="absolute flex-1 space-y-2 right-0 mt-4 w-48 rounded-md shadow-lg p-2 z-50 card">
                    <app-nav-link [link]="profileNavigtion.link" [text]="profileNavigtion.text"
                        [icon]="profileNavigtion.icon!" [cssClass]="'p-3 rounded-md sidebar-item gap-2'"
                        (click)="showDropdown=false"></app-nav-link>
                    <div class="mt-8">
                        <button (click)="logout()"
                            class="flex items-center justify-center text-center text-sm w-full text-red-500 font-bold rounded-md gap-2 p-2 border-1 hover:bg-red-500 hover:text-white cursor-pointer ">
                            <span class="h-6 w-6">
                                <app-svg [svgName]="logoutIcon" fill="currentColor" />
                            </span>
                            <span class="text ">Logout</span>
                        </button>
                    </div>
                </div>
                }
            </div>
        </div>

        <app-theme-switch class="cursor-pointer" />
    </div>
</header>